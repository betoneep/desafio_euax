{"remainingRequest":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\thread-loader\\dist\\cjs.js!X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\babel-loader\\lib\\index.js!X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\src\\views\\pages\\ForgotPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\src\\views\\pages\\ForgotPassword.vue","mtime":1613737762453},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy9pbXBvcnQgTG9hZGluZ0J1dHRvbiBmcm9tICIuLi8uLi9jb21wb25lbnRzL2xvYWRpbmctYnV0dG9uL0xvYWRpbmdCdXR0b24iOwppbXBvcnQgUm90YXRlU3F1YXJlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvUm90YXRlU3F1YXJlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGb3Jnb3RQYXNzd29yZCIsCiAgY29tcG9uZW50czogewogICAgUm90YXRlU3F1YXJlOiBSb3RhdGVTcXVhcmUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgaWQ6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIG5ld1Bhc3N3b3JkOiAiIiwKICAgICAgcmVwZWF0TmV3UGFzc3dvcmQ6ICIiLAogICAgICBlbWFpbFNlbnQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkZvcm1WYWxpZGF0ZTogZnVuY3Rpb24gb25Gb3JtVmFsaWRhdGUoZXZlbnQpIHsKICAgICAgdmFyIHZhbGlkID0gdHJ1ZTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKCiAgICAgIGlmICh0aGlzLmVtYWlsICYmICh0aGlzLm5ld1Bhc3N3b3JkIHx8IHRoaXMucmVwZWF0TmV3UGFzc3dvcmQpKSB7CiAgICAgICAgdmFsaWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHZhbGlkICYmICF0aGlzLmVtYWlsKSB7CiAgICAgICAgdGhpcy5yZWNvdmVyeVBhc3N3b3JkKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodmFsaWQgJiYgdGhpcy5uZXdQYXNzd29yZCA9PSB0aGlzLnJlcGVhdE5ld1Bhc3N3b3JkKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VQYXNzd29yZCgpOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlUGFzc3dvcmQ6IGZ1bmN0aW9uIGNoYW5nZVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgdXJsOiAicmVjdXBlcmFyLXNlbmhhLyIgKyB0aGlzLmVtYWlsLAogICAgICAgIG1ldGhvZDogIkdFVCIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzLmVtYWlsU2VudCA9IHRydWU7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvKSB7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIGRhdGE6IGVycm8ucmVzcG9uc2UuZGF0YS5lcnJvcywKICAgICAgICAgIHR5cGU6ICJ3YXJuIiwKICAgICAgICAgIGR1cmF0aW9uOiAxMDAwMAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICByZWNvdmVyeVBhc3N3b3JkOiBmdW5jdGlvbiByZWNvdmVyeVBhc3N3b3JkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB2bSA9IHsKICAgICAgICBJZDogdGhpcy5pZCwKICAgICAgICBTZW5oYTogdGhpcy5uZXdQYXNzd29yZAogICAgICB9OwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6ICJyZWN1cGVyYXItc2VuaGEvdHJvY2FyLXNlbmhhIiwKICAgICAgICBkYXRhOiB2bSwKICAgICAgICBtZXRob2Q6ICJQT1NUIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICBkYXRhOiBbIlNlbmhhIGF0dWFsaXphZGEgY29tIHN1Y2Vzc28uIl0sCiAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICBkdXJhdGlvbjogMTAwMDAKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgIH0pWyJjYXRjaCJdKGZ1bmN0aW9uIChlcnJvKSB7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgZGF0YTogZXJyby5yZXNwb25zZS5kYXRhLmVycm9zLAogICAgICAgICAgdHlwZTogIndhcm4iLAogICAgICAgICAgZHVyYXRpb246IDEwMDAwCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ForgotPassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"container fade-in\">\r\n    <div class=\"min-vh-100 d-flex justify-content-center align-content-center\">\r\n      <div class=\"m-auto col-lg-8\">\r\n        <div class=\"card-group\">\r\n          <div class=\"card p-4\">\r\n            <div class=\"card-body\">\r\n              <div v-if=\"loading\" class=\"loading-container\">\r\n                <RotateSquare\r\n                  class=\"loading-position animated fadeIn\"\r\n                  size=\"60px\"\r\n                ></RotateSquare>\r\n              </div>\r\n              <form v-else @submit=\"onFormValidate\">\r\n                <div v-if=\"id\">\r\n                  <h1>Nova Senha</h1>\r\n                  <p class=\"text-muted\">Informe a nova senha abaixo.</p>\r\n                  <div class=\"d-flex flex-column\">\r\n                    <div class=\"input-group mb-3\">\r\n                      <div class=\"input-group-append\">\r\n                        <span class=\"input-group-text\">\r\n                          <CIcon name=\"cil-lock-locked\" />\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        v-model=\"newPassword\"\r\n                        type=\"password\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Nova Senha\"\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    <div class=\"input-group mb-3\">\r\n                      <div class=\"input-group-append\">\r\n                        <span class=\"input-group-text\">\r\n                          <CIcon name=\"cil-lock-locked\" />\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        v-model=\"repeatNewPassword\"\r\n                        type=\"password\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Repita a Nova Senha\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"d-flex align-content-around mt-5\">\r\n                    <button class=\"btn btn-primary mr-auto\" type=\"submit\">\r\n                      Trocar Senha\r\n                    </button>\r\n                    <button\r\n                      class=\"btn btn-link\"\r\n                      @click=\"$router.push('/login')\"\r\n                    >\r\n                      Voltar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div v-else>\r\n                  <h3>Recuperar Senha</h3>\r\n                  <p v-if=\"emailSent\">\r\n                    Foi enviado um link de recuperação para seu e-mail.\r\n                  </p>\r\n                  <p v-else class=\"text-muted\">\r\n                    Digite um e-mail para continuar a recuperação da senha.\r\n                  </p>\r\n                  <div v-if=\"!emailSent\">\r\n                    <input\r\n                      id=\"email\"\r\n                      v-model=\"email\"\r\n                      type=\"email\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"E-mail\"\r\n                      autocomplete=\"username email\"\r\n                      required\r\n                      @keyup.enter=\"RecuperarSenha\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"d-flex align-content-around mt-5\">\r\n                    <button class=\"btn btn-primary mr-auto\" type=\"submit\">\r\n                      Enviar\r\n                    </button>\r\n                    <button\r\n                      class=\"btn btn-link\"\r\n                      @click=\"$router.push('/login')\"\r\n                    >\r\n                      Voltar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"card text-center py-5 d-md-down-none bg-primary text-white\"\r\n          >\r\n            <h2>Ainda não tem uma conta?</h2>\r\n            <p class=\"m-5\">\r\n              Entre em contato com nossa equipe de vendas para maiores\r\n              informações.\r\n            </p>\r\n            <div>\r\n              <button\r\n                href=\"https://www.cooperar.coop.br/\"\r\n                target=\"_blank\"\r\n                class=\"btn btn-primary active mt-3\"\r\n              >\r\n                Contratar agora!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import LoadingButton from \"../../components/loading-button/LoadingButton\";\r\nimport RotateSquare from \"../../components/RotateSquare\";\r\n\r\nexport default {\r\n  name: \"ForgotPassword\",\r\n  components: {\r\n    RotateSquare\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      id: \"\",\r\n      email: \"\",\r\n      newPassword: \"\",\r\n      repeatNewPassword: \"\",\r\n      emailSent: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.id = this.$route.params.id;\r\n  },\r\n  methods: {\r\n    onFormValidate(event) {\r\n      let valid = true;\r\n      event.preventDefault();\r\n\r\n      if (this.email && (this.newPassword || this.repeatNewPassword)) {\r\n        valid = false;\r\n      }\r\n\r\n      if (valid && !this.email) {\r\n        this.recoveryPassword();\r\n        return;\r\n      }\r\n\r\n      if (valid && this.newPassword == this.repeatNewPassword) {\r\n        this.changePassword();\r\n      }\r\n    },\r\n    changePassword() {\r\n      this.loading = true;\r\n      this.$http({\r\n        url: \"recuperar-senha/\" + this.email,\r\n        method: \"GET\"\r\n      })\r\n        .then(() => {\r\n          this.loading = false;\r\n\r\n          this.emailSent = true;\r\n        })\r\n        .catch((erro) => {\r\n          this.loading = false;\r\n          this.$notify({\r\n            data: erro.response.data.erros,\r\n            type: \"warn\",\r\n            duration: 10000\r\n          });\r\n        });\r\n    },\r\n    recoveryPassword() {\r\n      let vm = {\r\n        Id: this.id,\r\n        Senha: this.newPassword\r\n      };\r\n      this.loading = true;\r\n      this.$http({\r\n        url: \"recuperar-senha/trocar-senha\",\r\n        data: vm,\r\n        method: \"POST\"\r\n      })\r\n        .then(() => {\r\n          this.loading = false;\r\n          this.$notify({\r\n            data: [\"Senha atualizada com sucesso.\"],\r\n            type: \"success\",\r\n            duration: 10000\r\n          });\r\n          this.$router.push(\"/login\");\r\n        })\r\n        .catch((erro) => {\r\n          this.loading = false;\r\n          this.$notify({\r\n            data: erro.response.data.erros,\r\n            type: \"warn\",\r\n            duration: 10000\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":"src/views/pages"}]}