{"remainingRequest":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\src\\views\\pages\\ForgotPassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\src\\views\\pages\\ForgotPassword.vue","mtime":1625718209792},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"X:\\Projetos Git\\Projeto Cooperar\\web-cooperar\\web-cooperar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL2ltcG9ydCBMb2FkaW5nQnV0dG9uIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvbG9hZGluZy1idXR0b24vTG9hZGluZ0J1dHRvbiI7DQppbXBvcnQgUm90YXRlU3F1YXJlIGZyb20gIi4uLy4uL2NvbXBvbmVudHMvUm90YXRlU3F1YXJlIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiRm9yZ290UGFzc3dvcmQiLA0KICBjb21wb25lbnRzOiB7DQogICAgUm90YXRlU3F1YXJlDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgaWQ6ICIiLA0KICAgICAgZW1haWw6ICIiLA0KICAgICAgbmV3UGFzc3dvcmQ6ICIiLA0KICAgICAgcmVwZWF0TmV3UGFzc3dvcmQ6ICIiLA0KICAgICAgZW1haWxTZW50OiBmYWxzZQ0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5pZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uRm9ybVZhbGlkYXRlKGV2ZW50KSB7DQogICAgICBsZXQgdmFsaWQgPSB0cnVlOw0KICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCg0KICAgICAgaWYgKHRoaXMuZW1haWwgJiYgKHRoaXMubmV3UGFzc3dvcmQgfHwgdGhpcy5yZXBlYXROZXdQYXNzd29yZCkpIHsNCiAgICAgICAgdmFsaWQgPSBmYWxzZTsNCiAgICAgIH0NCg0KICAgICAgaWYgKHZhbGlkICYmICF0aGlzLmVtYWlsKSB7DQogICAgICAgIHRoaXMucmVjb3ZlcnlQYXNzd29yZCgpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGlmICh2YWxpZCAmJiB0aGlzLm5ld1Bhc3N3b3JkID09IHRoaXMucmVwZWF0TmV3UGFzc3dvcmQpIHsNCiAgICAgICAgdGhpcy5jaGFuZ2VQYXNzd29yZCgpOw0KICAgICAgfQ0KICAgIH0sDQogICAgY2hhbmdlUGFzc3dvcmQoKSB7DQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIHRoaXMuJGh0dHAoew0KICAgICAgICB1cmw6ICJyZWN1cGVyYXItc2VuaGEvIiArIHRoaXMuZW1haWwsDQogICAgICAgIG1ldGhvZDogIkdFVCINCiAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCg0KICAgICAgICAgIHRoaXMuZW1haWxTZW50ID0gdHJ1ZTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvKSA9PiB7DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgIGRhdGE6IGVycm8ucmVzcG9uc2UuZGF0YS5lcnJvcywNCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuIiwNCiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgcmVjb3ZlcnlQYXNzd29yZCgpIHsNCiAgICAgIGxldCB2bSA9IHsNCiAgICAgICAgSWQ6IHRoaXMuaWQsDQogICAgICAgIFNlbmhhOiB0aGlzLm5ld1Bhc3N3b3JkDQogICAgICB9Ow0KICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICB0aGlzLiRodHRwKHsNCiAgICAgICAgdXJsOiAicmVjdXBlcmFyLXNlbmhhL3Ryb2Nhci1zZW5oYSIsDQogICAgICAgIGRhdGE6IHZtLA0KICAgICAgICBtZXRob2Q6ICJQT1NUIg0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICBkYXRhOiBbIlNlbmhhIGF0dWFsaXphZGEgY29tIHN1Y2Vzc28uIl0sDQogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICBkdXJhdGlvbjogNTAwMA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvKSA9PiB7DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgIGRhdGE6IGVycm8ucmVzcG9uc2UuZGF0YS5lcnJvcywNCiAgICAgICAgICAgIHR5cGU6ICJ3YXJuIiwNCiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwDQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["ForgotPassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ForgotPassword.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\r\n  <div class=\"container fade-in\">\r\n    <div class=\"min-vh-100 d-flex justify-content-center align-content-center\">\r\n      <div class=\"m-auto col-lg-8\">\r\n        <div class=\"card-group\">\r\n          <div class=\"card p-4\">\r\n            <div class=\"card-body\">\r\n              <div v-if=\"loading\" class=\"loading-container\">\r\n                <RotateSquare\r\n                  class=\"loading-position animated fadeIn\"\r\n                  size=\"60px\"\r\n                ></RotateSquare>\r\n              </div>\r\n              <form v-else @submit=\"onFormValidate\">\r\n                <div v-if=\"id\">\r\n                  <h1>Nova Senha</h1>\r\n                  <p class=\"text-muted\">Informe a nova senha abaixo.</p>\r\n                  <div class=\"d-flex flex-column\">\r\n                    <div class=\"input-group mb-3\">\r\n                      <div class=\"input-group-append\">\r\n                        <span class=\"input-group-text\">\r\n                          <CIcon name=\"cil-lock-locked\" />\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        v-model=\"newPassword\"\r\n                        type=\"password\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Nova Senha\"\r\n                        required\r\n                      />\r\n                    </div>\r\n\r\n                    <div class=\"input-group mb-3\">\r\n                      <div class=\"input-group-append\">\r\n                        <span class=\"input-group-text\">\r\n                          <CIcon name=\"cil-lock-locked\" />\r\n                        </span>\r\n                      </div>\r\n                      <input\r\n                        v-model=\"repeatNewPassword\"\r\n                        type=\"password\"\r\n                        class=\"form-control\"\r\n                        placeholder=\"Repita a Nova Senha\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"d-flex align-content-around mt-5\">\r\n                    <button class=\"btn btn-primary mr-auto\" type=\"submit\">\r\n                      Trocar Senha\r\n                    </button>\r\n                    <button\r\n                      class=\"btn btn-link\"\r\n                      @click=\"$router.push('/login')\"\r\n                    >\r\n                      Voltar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div v-else>\r\n                  <h3>Recuperar Senha</h3>\r\n                  <p v-if=\"emailSent\">\r\n                    Foi enviado um link de recuperação para seu e-mail.\r\n                  </p>\r\n                  <p v-else class=\"text-muted\">\r\n                    Digite um e-mail para continuar a recuperação da senha.\r\n                  </p>\r\n                  <div v-if=\"!emailSent\">\r\n                    <input\r\n                      id=\"email\"\r\n                      v-model=\"email\"\r\n                      type=\"email\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"E-mail\"\r\n                      autocomplete=\"username email\"\r\n                      required\r\n                      @keyup.enter=\"RecuperarSenha\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"d-flex align-content-around mt-5\">\r\n                    <button class=\"btn btn-primary mr-auto\" type=\"submit\">\r\n                      Enviar\r\n                    </button>\r\n                    <button\r\n                      class=\"btn btn-link\"\r\n                      @click=\"$router.push('/login')\"\r\n                    >\r\n                      Voltar\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"card text-center py-5 d-md-down-none bg-primary text-white\"\r\n          >\r\n            <h2>Ainda não tem uma conta?</h2>\r\n            <p class=\"m-5\">\r\n              Entre em contato com nossa equipe de vendas para maiores\r\n              informações.\r\n            </p>\r\n            <div>\r\n              <button\r\n                href=\"https://www.cooperar.coop.br/\"\r\n                target=\"_blank\"\r\n                class=\"btn btn-primary active mt-3\"\r\n              >\r\n                Contratar agora!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//import LoadingButton from \"../../components/loading-button/LoadingButton\";\r\nimport RotateSquare from \"../../components/RotateSquare\";\r\n\r\nexport default {\r\n  name: \"ForgotPassword\",\r\n  components: {\r\n    RotateSquare\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      id: \"\",\r\n      email: \"\",\r\n      newPassword: \"\",\r\n      repeatNewPassword: \"\",\r\n      emailSent: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.id = this.$route.params.id;\r\n  },\r\n  methods: {\r\n    onFormValidate(event) {\r\n      let valid = true;\r\n      event.preventDefault();\r\n\r\n      if (this.email && (this.newPassword || this.repeatNewPassword)) {\r\n        valid = false;\r\n      }\r\n\r\n      if (valid && !this.email) {\r\n        this.recoveryPassword();\r\n        return;\r\n      }\r\n\r\n      if (valid && this.newPassword == this.repeatNewPassword) {\r\n        this.changePassword();\r\n      }\r\n    },\r\n    changePassword() {\r\n      this.loading = false;\r\n      this.$http({\r\n        url: \"recuperar-senha/\" + this.email,\r\n        method: \"GET\"\r\n      })\r\n        .then(() => {\r\n          this.loading = false;\r\n\r\n          this.emailSent = true;\r\n        })\r\n        .catch((erro) => {\r\n          this.loading = false;\r\n          this.$notify({\r\n            data: erro.response.data.erros,\r\n            type: \"warn\",\r\n            duration: 5000\r\n          });\r\n        });\r\n    },\r\n    recoveryPassword() {\r\n      let vm = {\r\n        Id: this.id,\r\n        Senha: this.newPassword\r\n      };\r\n      this.loading = false;\r\n      this.$http({\r\n        url: \"recuperar-senha/trocar-senha\",\r\n        data: vm,\r\n        method: \"POST\"\r\n      })\r\n        .then(() => {\r\n          this.loading = false;\r\n          this.$notify({\r\n            data: [\"Senha atualizada com sucesso.\"],\r\n            type: \"success\",\r\n            duration: 5000\r\n          });\r\n          this.$router.push(\"/login\");\r\n        })\r\n        .catch((erro) => {\r\n          this.loading = false;\r\n          this.$notify({\r\n            data: erro.response.data.erros,\r\n            type: \"warn\",\r\n            duration: 5000\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}